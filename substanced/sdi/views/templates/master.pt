<html xmlns="http://www.w3.org/1999/xhtml"
      metal:define-macro="main">

  <head>
    <meta charset="utf-8" />
    <title metal:define-slot="page-title">${view.title | 'Substance D'}</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

   <style type="text/css">
      body {
        padding-top: 60px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
    </style>

    <!-- HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
        <script src="https://html5shim.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->

    <!-- Styles -->
    <link href="${request.static_url('substanced.sdi:static/bootstrap/css/bootstrap.min.css')}" rel="stylesheet" />
    <link href="${request.static_url('substanced.sdi:static/bootstrap/css/bootstrap-responsive.min.css')}" rel="stylesheet" />

	  <link href="${request.static_url('substanced.sdi:static/base.css')}" rel="stylesheet" />
	  <link href="${request.static_url('substanced.sdi:static/view.css')}" rel="stylesheet" />

    <!-- Fav icons -->
	  <link rel="shortcut icon" href="${request.static_url('substanced.sdi:static/favicon.ico')}" />

    <!-- Scripts -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js" type="text/javascript"></script>
    <script src="${request.static_url('substanced.sdi:static/bootstrap/js/bootstrap.min.js')}" type="text/javascript"></script>

    <more tal:omit-tag="" metal:define-slot="head-more"></more>

  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
          <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="${request.mgmt_path(request.root)}">Substance D</a>
          <div class="nav-collapse">
            <ul class="nav">
              <li class="active"><a href="#">Home</a></li>
              <li><a href="#about">About</a></li>
              <li><a href="#contact">Contact</a></li>
            </ul>
           <p class="navbar-text pull-right">Logged in as <a href="#">username</a></p>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>

    <div class="container-fluid">

        <div class="row-fluid">

          <div class="span2">
            <div class="well sidebar-nav">
              <ul class="nav nav-list"
                  tal:define="isroot not context.__parent__;
                              name context.__name__">
                <li class="nav-header" >Navigation</li>
                <li tal:condition="not isroot"><a href=".."
                   >${u"\u25B2 " + (context.__parent__.__name__ or 'top')}</a></li>
                <li tal:condition="isroot">(top)</li>
                <li class="nav-header"
                    tal:content="name or 'top'"
                    >Name</li>
                <li tal:repeat="node h.get_subnodes(request)">
                    <a tal:condition="node['url']" 
                       href="${node['url']}">${node['name'] or '/'}</a>
                    <span tal:omit-tag="" tal:condition="not node['url']">${node['name'] or '/'}</span>
                </li>
              </ul>
            </div>
          </div>

          <div class="span9">

            <ul class="nav nav-tabs">
              <li tal:repeat="tab_data h.get_mgmt_views(request)"
                  tal:attributes="class request.view_name==tab_data['view_name'] and 'active' or None"><a href="${request.mgmt_path(context, '@@%s' % tab_data['view_name'])}">${tab_data['tab_title']}</a>
              </li>
            </ul>

            <div class="above-content">
            </div>

            <div id="messages" class="${request.is_xhr and 'ajax-replace' or ''}">
              <div tal:repeat="queue ('info', 'success', 'error', '')" tal:omit-tag="">
                <div class="alert alert-${queue}"
                   tal:define="messages request.session.pop_flash(queue)"
                   tal:condition="messages"
                   tal:repeat="message messages">
                  ${message}
                </div>
              </div>
            </div>

            <div class="inner-content">
              <div metal:define-slot="main">
              </div>
            </div>

            <div class="below-content" >
            </div>

          </div>

        </div>

    </div>

  </body>

</html>

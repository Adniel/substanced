<div metal:use-macro="request.sdiapi.main_template">

  <div metal:fill-slot="main">

    <div class="container">
      <div class="row">

    <div tal:condition="batch">

      <ul class="pager">
        <li class="${(not later and 'disabled') or ''}">
          <a href="${request.view_name}">
          <i class="glyphicon glyphicon-backward"> </i> Latest</a>
        </li>
        <li class="${(not later and 'disabled') or ''}">
          <a href="${later}">
          <i class="glyphicon glyphicon-backward"> </i> Later</a>
        </li>
        <li class="${(not earlier and 'disabled') or ''}">
          <a href="${earlier}">
          <i class="glyphicon glyphicon-forward"> </i> Earlier</a>
        </li>
      </ul>

      <div class="label label-default col-md-2 col-md-offset-5">Page # ${batch_num|0}</div>


    </div>

    <form action="${request.sdiapi.mgmt_url(context, '@@undo_multiple')}" 
          method="post">
      <table tal:condition="batch|None" class="table table-striped">

        <thead>
         <tr>
           <th width="3%"></th>
           <th width="12%">Time</th>
           <th width="5%">Size</th>
           <th width="10%">User</th>
           <th width="70%">Description</th>
         </tr>
        </thead>

        <tbody>
          <tr tal:repeat="item batch">
             <td><input type="checkbox" name="transaction" value="${item.id}"/></td>
             <td>${item.time}</td>
             <td>${item.size}</td>
             <td>${item.user_name}</td>
             <td>${item.description}</td>
          </tr>
        </tbody>
      </table>

      <input type="submit" name="form.submitted" value="Undo"
             class="btn btn-primary"/>
      <input type="hidden" name="csrf_token"
             value="${request.session.get_csrf_token()}"/>

    </form>

    </div>
  </div>

  </div>

</div>

